---
phase: 02-component-tiering
plan: 02
type: execute
---

<objective>
Register first batch of atomic components from src/components/ui as free tier items (A-D alphabetically).

Purpose: Add basic shadcn components to registry with free tier metadata for distribution.
Output: Registry.json expanded with 18 atomic component items (accordion through drawer).
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-component-tiering/02-01-SUMMARY.md (if exists)
@registry.json
@src/components/ui/

**Components to register (batch 1 - A through D):**
1. accordion
2. alert-dialog
3. alert
4. aspect-ratio
5. avatar
6. badge
7. breadcrumb
8. button-group
9. button (src version - different from registry button)
10. calendar
11. card
12. carousel
13. chart
14. checkbox
15. collapsible
16. command
17. context-menu
18. dialog
19. drawer
20. dropdown-menu

**Registry item structure for atomic components:**
```json
{
  "name": "{component-name}",
  "type": "registry:ui",
  "title": "{Component Title}",
  "description": "{Brief description}",
  "meta": { "tier": "free" },
  "categories": ["{category}"],
  "dependencies": [...],  // npm packages if any
  "registryDependencies": ["utils"],  // most depend on cn()
  "files": [
    {
      "path": "src/components/ui/{component}.tsx",
      "type": "registry:ui"
    }
  ]
}
```

**Category mapping for atomic components:**
- form: checkbox, input, select, textarea, radio-group, switch, slider
- feedback: alert, alert-dialog, dialog, drawer, sheet, toast, sonner
- navigation: breadcrumb, menubar, navigation-menu, tabs, pagination
- data-display: avatar, badge, card, table, calendar, chart, carousel
- overlay: context-menu, dropdown-menu, hover-card, popover, tooltip, command
- layout: accordion, collapsible, aspect-ratio, separator, scroll-area, resizable
- misc: button, button-group, toggle, toggle-group, skeleton, spinner, progress
</context>

<tasks>

<task type="auto">
  <name>Task 1: Register form and layout primitives (A-C)</name>
  <files>registry.json</files>
  <action>
Add registry items for the following components. Read each .tsx file first to identify dependencies (look for imports from external packages like @radix-ui/*, class-variance-authority, etc.).

**Components:**
1. accordion - layout category, depends on @radix-ui/react-accordion
2. alert-dialog - feedback category, depends on @radix-ui/react-alert-dialog
3. alert - feedback category, uses cva
4. aspect-ratio - layout category, depends on @radix-ui/react-aspect-ratio
5. avatar - data-display category, depends on @radix-ui/react-avatar
6. badge - data-display category, uses cva
7. breadcrumb - navigation category, depends on @radix-ui/react-slot
8. button-group - misc category, minimal deps
9. calendar - data-display category, depends on react-day-picker
10. card - data-display category, minimal deps
11. carousel - data-display category, depends on embla-carousel-react
12. chart - data-display category, depends on recharts
13. checkbox - form category, depends on @radix-ui/react-checkbox
14. collapsible - layout category, depends on @radix-ui/react-collapsible
15. command - overlay category, depends on cmdk

For each component:
1. Read the file to identify exact dependencies
2. Add to registry.json items array
3. Include meta.tier="free", appropriate categories, and registryDependencies: ["utils"]
  </action>
  <verify>Count items: `cat registry.json | jq '.items | length'` should be 29 (14 existing + 15 new)</verify>
  <done>15 components registered with correct dependencies and free tier metadata</done>
</task>

<task type="auto">
  <name>Task 2: Register overlay and dialog components (C-D)</name>
  <files>registry.json</files>
  <action>
Add registry items for remaining A-D components:

1. context-menu - overlay category, depends on @radix-ui/react-context-menu
2. dialog - feedback category, depends on @radix-ui/react-dialog
3. drawer - feedback category, depends on vaul
4. dropdown-menu - overlay category, depends on @radix-ui/react-dropdown-menu

For each component:
1. Read the file to identify exact dependencies
2. Add to registry.json items array
3. Include meta.tier="free", appropriate categories, and registryDependencies: ["utils"]
  </action>
  <verify>Count items: `cat registry.json | jq '.items | length'` should be 33 (29 + 4)</verify>
  <done>4 more components registered, total 33 items in registry</done>
</task>

<task type="auto">
  <name>Task 3: Validate batch and fix any issues</name>
  <files>registry.json</files>
  <action>
Validate all new items:
1. Verify JSON is valid: `cat registry.json | jq '.'`
2. Check all new items have tier: `cat registry.json | jq '.items[] | select(.meta.tier == null) | .name'`
3. Verify file paths exist for all new items: Loop through and check each path
4. Check for duplicate names: `cat registry.json | jq '[.items[].name] | group_by(.) | map(select(length > 1))'`
5. Fix any issues found
  </action>
  <verify>JSON valid, no duplicates, no missing tiers, all file paths exist</verify>
  <done>Batch 1 complete with 19 new atomic components registered as free tier</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `cat registry.json | jq '.'` outputs valid JSON
- [ ] Total items: 33 (14 original + 19 new)
- [ ] All new items have `meta.tier: "free"`
- [ ] All file paths in `src/components/ui/` exist
- [ ] No duplicate item names
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- 19 new atomic components registered as free tier
- Registry maintains valid JSON structure
</success_criteria>

<output>
After completion, create `.planning/phases/02-component-tiering/02-02-SUMMARY.md`
</output>
