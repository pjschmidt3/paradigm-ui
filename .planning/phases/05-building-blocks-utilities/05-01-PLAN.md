---
phase: 05-building-blocks-utilities
plan: 01
type: execute
---

<objective>
Create simple boolean state hooks: useDisclosure and useToggle.

Purpose: Provide reusable state management patterns for common UI interactions (modals, menus, accordions).
Output: Two hooks in src/hooks/ with tests, exported from main index.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/hooks/use-mobile.ts
@.planning/codebase/CONVENTIONS.md
</context>

<tasks>

<task type="auto" tdd="true">
  <name>Task 1: Create useDisclosure hook</name>
  <files>src/hooks/use-disclosure.ts, src/hooks/__tests__/use-disclosure.test.ts</files>
  <test-first>
    Test: useDisclosure returns isOpen boolean and open/close/toggle callbacks
    Cases:
    - Initial state is false (closed)
    - Initial state can be set to true
    - open() sets isOpen to true
    - close() sets isOpen to false
    - toggle() flips isOpen state
    - onOpen callback fires when opening
    - onClose callback fires when closing
  </test-first>
  <action>
    Create useDisclosure hook that manages boolean open/close state.

    Interface:
    ```typescript
    interface UseDisclosureOptions {
      defaultOpen?: boolean
      onOpen?: () => void
      onClose?: () => void
    }

    interface UseDisclosureReturn {
      isOpen: boolean
      open: () => void
      close: () => void
      toggle: () => void
    }
    ```

    Use useCallback for stable references. Fire callbacks after state updates.
    Follow existing use-mobile.ts naming convention (function export, no default).
  </action>
  <verify>npm test -- use-disclosure.test.ts passes all cases</verify>
  <done>useDisclosure hook with full test coverage, callbacks work correctly</done>
</task>

<task type="auto" tdd="true">
  <name>Task 2: Create useToggle hook</name>
  <files>src/hooks/use-toggle.ts, src/hooks/__tests__/use-toggle.test.ts</files>
  <test-first>
    Test: useToggle returns boolean value and toggle function
    Cases:
    - Initial value is false by default
    - Initial value can be set to true
    - toggle() flips the value
    - setValue(true) sets to true
    - setValue(false) sets to false
  </test-first>
  <action>
    Create useToggle hook as a simpler alternative to useDisclosure.

    Interface:
    ```typescript
    function useToggle(initialValue?: boolean): [boolean, {
      toggle: () => void
      setTrue: () => void
      setFalse: () => void
      setValue: (value: boolean) => void
    }]
    ```

    Return tuple like useState for familiar API. Use useCallback for stable references.
    This is a simpler hook than useDisclosure - no callbacks, just state management.
  </action>
  <verify>npm test -- use-toggle.test.ts passes all cases</verify>
  <done>useToggle hook with full test coverage, familiar useState-like API</done>
</task>

<task type="auto">
  <name>Task 3: Export hooks from main index</name>
  <files>src/hooks/index.ts, src/index.ts</files>
  <action>
    Create barrel file at src/hooks/index.ts exporting all hooks.
    Add hooks export to src/index.ts.

    Ensure existing useIsMobile is included in barrel.
  </action>
  <verify>Build succeeds: npm run build, hooks are in dist output</verify>
  <done>Hooks exported from package entry point</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm test -- use-disclosure` passes
- [ ] `npm test -- use-toggle` passes
- [ ] `npm run build` succeeds without errors
- [ ] Hooks appear in dist/ output
</verification>

<success_criteria>
- All tasks completed
- All tests pass
- Build succeeds
- useDisclosure and useToggle ready for use
</success_criteria>

<output>
After completion, create `.planning/phases/05-building-blocks-utilities/05-01-SUMMARY.md`
</output>
