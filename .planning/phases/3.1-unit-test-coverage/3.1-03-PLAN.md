---
phase: 3.1-unit-test-coverage
plan: 03
type: execute
---

<objective>
Add unit tests for Hero composite component and verify full test suite.

Purpose: Complete test coverage for all registry components and verify the full suite passes.
Output: Test file `hero.test.tsx` and verified test suite with coverage report.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/codebase/TESTING.md
@registry/new-york/ui/__tests__/button.test.tsx (pattern reference)
@registry/new-york/ui/hero.tsx
@registry/new-york/ui/heading.tsx
@registry/new-york/ui/paragraph.tsx
@registry/new-york/ui/social-links.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Hero component tests</name>
  <files>registry/new-york/ui/__tests__/hero.test.tsx</files>
  <action>
Create tests for Hero composite component. Hero conditionally renders Heading, Paragraph, and SocialLinks based on props.

**Mock motion/react for SocialLinks dependency:**
```typescript
jest.mock('motion/react', () => ({
  motion: {
    div: ({ children, ...props }: any) => <div {...props}>{children}</div>,
  },
  Variants: {},
}))
```

**Test Groups:**
1. Basic rendering - renders container div with flex-col and text-center classes
2. Heading conditional rendering - only renders when heading prop provided, uses level 1
3. Subheading conditional rendering - only renders when subheading prop provided, uses level 2
4. Description conditional rendering - only renders Paragraph when description prop provided
5. SocialLinks conditional rendering - only renders when socialLinks prop provided
6. Custom className - merges with container classes
7. Element-specific classNames - headingClassName, subheadingClassName, descriptionClassName work

**Key assertions:**
- Container has base flex-col, space-y-5, text-center classes
- Heading renders as h1 with text-4xl md:text-6xl when provided
- Subheading renders as h2 with text-3xl md:text-4xl when provided
- Description wrapped in Paragraph with correct margins
- SocialLinks receives size default of '5xl' when not specified
- Each conditional section absent when prop not provided
  </action>
  <verify>npm test -- hero.test.tsx --passWithNoTests=false passes</verify>
  <done>Hero conditional rendering tested, className customization verified, all child components render correctly</done>
</task>

<task type="auto">
  <name>Task 2: Run full test suite and generate coverage report</name>
  <files>None (verification only)</files>
  <action>
Run the complete test suite and verify all tests pass:

1. Run `npm test` to execute all tests
2. Run `npm run test:coverage` to generate coverage report
3. Verify all 11 test files pass (6 existing + 5 new):
   - box.test.tsx
   - button.test.tsx
   - flex.test.tsx
   - flex-col.test.tsx
   - flex-row.test.tsx
   - grid.test.tsx
   - heading.test.tsx (new)
   - paragraph.test.tsx (new)
   - social-links.test.tsx (new)
   - appear.test.tsx (new)
   - hero.test.tsx (new)

4. Note coverage percentages for registry/new-york/ui/ components
5. Ensure no failing tests or unhandled errors
  </action>
  <verify>npm test exits with code 0, all test suites pass</verify>
  <done>All 11 test files pass, coverage report generated, no errors</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm test` passes all 11 test suites
- [ ] `npm run test:coverage` completes successfully
- [ ] Hero component tests cover all conditional props
- [ ] No TypeScript errors in any test files
</verification>

<success_criteria>

- Hero test file created and passing
- Full test suite (11 files) passes without errors
- Coverage report generated
- Phase 3.1 complete - all registry UI components have unit tests
</success_criteria>

<output>
After completion, create `.planning/phases/3.1-unit-test-coverage/3.1-03-SUMMARY.md`:

Include:
- Final test count and pass status
- Coverage percentages for registry/new-york/ui/
- Any issues encountered
- Phase 3.1 completion status
</output>
