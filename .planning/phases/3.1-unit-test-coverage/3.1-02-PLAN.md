---
phase: 3.1-unit-test-coverage
plan: 02
type: execute
---

<objective>
Add unit tests for animation components (SocialLinks, Appear).

Purpose: Test motion-based components that use Framer Motion for animations.
Output: Test files `social-links.test.tsx` and `appear.test.tsx` with proper motion mocking.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/codebase/TESTING.md
@registry/new-york/ui/__tests__/button.test.tsx (pattern reference)
@registry/new-york/ui/social-links.tsx
@registry/new-york/ui/appear.tsx
@src/setupTests.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create SocialLinks component tests</name>
  <files>registry/new-york/ui/__tests__/social-links.test.tsx</files>
  <action>
Create tests for SocialLinks component. Must mock motion/react to avoid animation issues in tests.

**Add motion mock at top of test file:**
```typescript
jest.mock('motion/react', () => ({
  motion: {
    div: ({ children, ...props }: any) => <div {...props}>{children}</div>,
  },
  Variants: {},
}))
```

**Test Groups:**
1. Basic rendering - renders container div with flex classes
2. Conditional platform rendering - each platform (facebook, youtube, instagram, github, linkedIn, twitter, x, discord) only renders when URL prop provided
3. Size prop - default 'lg', applies text-{size} class to icons
4. Custom className - merges with container classes
5. Custom link component - accepts 'as' prop for custom Link component (e.g., Next.js Link)
6. Accessibility - each link has appropriate aria-label

**Key assertions:**
- Only renders icons for provided URLs
- Icons have correct aria-labels ("Facebook Page", "Youtube Account", etc.)
- Links have correct href attributes
- Container has flex layout classes
  </action>
  <verify>npm test -- social-links.test.tsx --passWithNoTests=false passes</verify>
  <done>All 8 platform types tested, conditional rendering verified, accessibility labels present</done>
</task>

<task type="auto">
  <name>Task 2: Create Appear component tests</name>
  <files>registry/new-york/ui/__tests__/appear.test.tsx</files>
  <action>
Create tests for Appear animation wrapper component.

**Add motion mock at top of test file:**
```typescript
jest.mock('motion/react-client', () => ({
  div: ({ children, ...props }: any) => <div data-testid="motion-div" {...props}>{children}</div>,
  span: ({ children, ...props }: any) => <span data-testid="motion-span" {...props}>{children}</span>,
}))
```

**Test Groups:**
1. Basic rendering - renders children within motion container
2. Default element - uses motion.div when no 'as' prop
3. Polymorphic 'as' prop - accepts custom element/component
4. Duration prop - passes duration to variants (verify prop acceptance)
5. Props spreading - additional props passed to wrapper

**Key assertions:**
- Children render correctly
- Wrapper receives animate="visible" and initial="hidden"
- Custom 'as' component used when provided
  </action>
  <verify>npm test -- appear.test.tsx --passWithNoTests=false passes</verify>
  <done>Animation wrapper tested, polymorphic behavior verified, props spread correctly</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm test -- social-links.test.tsx` passes all tests
- [ ] `npm test -- appear.test.tsx` passes all tests
- [ ] Motion mocks prevent animation errors in test output
- [ ] No TypeScript errors in test files
</verification>

<success_criteria>

- Both animation component test files created and passing
- Motion/react properly mocked to avoid animation test issues
- All 8 social platform conditional rendering tested
- Appear polymorphic behavior tested
</success_criteria>

<output>
After completion, create `.planning/phases/3.1-unit-test-coverage/3.1-02-SUMMARY.md`
</output>
