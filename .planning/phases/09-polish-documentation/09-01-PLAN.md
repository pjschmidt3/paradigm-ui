---
phase: 09-polish-documentation
plan: 01
type: execute
---

<objective>
Complete test coverage and Storybook documentation for all v0.2.0 components.

Purpose: Ensure all components meet the project's completion checklist (tests + stories) before milestone close.
Output: CodeBlock test + stories, hook stories, updated README with v0.2.0 component counts.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/08-premium-blocks/08-03-SUMMARY.md

Existing component reference:
@registry/new-york/ui/code-block/code-block.tsx
@registry/new-york/ui/blockquote/blockquote.test.tsx
@registry/new-york/ui/blockquote/blockquote.stories.tsx

Hook reference:
@src/hooks/use-disclosure.ts
@src/hooks/__tests__/use-disclosure.test.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: CodeBlock unit tests and Storybook stories</name>
  <files>registry/new-york/ui/code-block/code-block.test.tsx, registry/new-york/ui/code-block/code-block.stories.tsx</files>
  <action>
    Create comprehensive tests for CodeBlock:
    - Renders code content correctly
    - Shows/hides language badge based on showLanguage prop
    - Shows/hides copy button based on showCopy prop
    - Copy button copies code to clipboard (mock navigator.clipboard)
    - Shows "Copied!" feedback after copy
    - Custom className is applied
    - Default language is "tsx"

    Create Storybook stories:
    - Default story with basic code
    - TypeScript story with TS code sample
    - WithoutCopy story (showCopy=false)
    - WithoutLanguage story (showLanguage=false)
    - LongCode story demonstrating overflow scroll

    Follow patterns from blockquote.test.tsx and blockquote.stories.tsx.
  </action>
  <verify>npm test -- code-block.test.tsx passes, npm run storybook shows CodeBlock stories</verify>
  <done>CodeBlock has 100% prop coverage in tests and 5+ stories demonstrating all variants</done>
</task>

<task type="auto">
  <name>Task 2: Hook Storybook stories</name>
  <files>
    src/hooks/use-disclosure.stories.tsx,
    src/hooks/use-toggle.stories.tsx,
    src/hooks/use-media-query.stories.tsx,
    src/hooks/use-click-outside.stories.tsx,
    src/hooks/use-scroll-lock.stories.tsx,
    src/hooks/use-focus-trap.stories.tsx
  </files>
  <action>
    Create interactive Storybook stories for each hook demonstrating usage:

    useDisclosure: Modal toggle demo showing open/close/toggle controls
    useToggle: Checkbox-like toggle demo with all setter functions
    useMediaQuery: Responsive indicator showing current media query match
    useClickOutside: Dropdown demo that closes on outside click
    useScrollLock: Button demo that locks/unlocks body scroll
    useFocusTrap: Modal demo with trapped Tab navigation

    Each story should:
    - Be in src/hooks/ directory alongside the hook
    - Show hook usage in action (not just console.log)
    - Include controls for interactive props where applicable
    - Use simple inline components, not external component imports

    Note: Skip useIsMobile as it's just a wrapper around useMediaQuery.
  </action>
  <verify>npm run storybook shows all hook stories under Hooks category</verify>
  <done>6 hook stories demonstrating interactive usage patterns</done>
</task>

<task type="auto">
  <name>Task 3: Update README with v0.2.0 component inventory</name>
  <files>README.md</files>
  <action>
    Update README.md to reflect v0.2.0 library expansion:

    1. Update component counts in intro (was "67 components", now more)
    2. Add new Free Tier sections:
       - **Card Variants**: profile-card, stats-card, testimonial-card, feature-card
       - **Content Display**: blockquote, list, callout
       - **Navigation**: link-button, nav-link, steps
    3. Add new Premium Tier sections:
       - **Marketing**: pricing-table, cta-section
       - **Portfolio**: project-card, timeline
       - **Layout**: page-header, section-wrapper
    4. Add **Hooks** section listing all 7 hooks with brief descriptions
    5. Update Quick Start example if needed

    Count: Previous 67 + 10 free components + 6 premium blocks + 7 hooks = ~90 total
  </action>
  <verify>cat README.md shows updated component counts and new sections</verify>
  <done>README accurately reflects v0.2.0 library with all new components and hooks listed</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm test` passes (all tests including new CodeBlock tests)
- [ ] `npm run build` succeeds
- [ ] `npm run storybook` runs without errors
- [ ] CodeBlock stories visible in Storybook
- [ ] Hook stories visible under Hooks category in Storybook
- [ ] README component counts are accurate
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- CodeBlock has test coverage (currently 0)
- All 6 non-wrapper hooks have Storybook stories
- README reflects complete v0.2.0 component inventory
- Phase 9 complete, v0.2.0 milestone ready for close
</success_criteria>

<output>
After completion, create `.planning/phases/09-polish-documentation/09-01-SUMMARY.md`
</output>
